check_conservation: false
require_initialization: true
instances:
  N1:
    long_name: phosphate
    model: ogs/bfm_pelagic_base
    parameters:
      composition: p                                       # elemental composition
      c0: 0.001                                            # background carbon concentration (mg C/m^3), default = 0.0
    initialization:
      p: 0.4                                               # phosphorus (mmol P/m^3)
  N3:
    long_name: nitrate
    model: ogs/bfm_pelagic_base
    parameters:
      composition: n                                       # elemental composition
      c0: 0.001                                            # background carbon concentration (mg C/m^3), default = 0.0
    initialization:
      n: 8.0                                               # nitrogen (mmol N/m^3)
  N4:
    long_name: ammonium
    model: ogs/bfm_pelagic_base
    parameters:
      composition: n                                       # elemental composition
      c0: 0.001                                            # background carbon concentration (mg C/m^3), default = 0.0
    initialization:
      n: 0.1                                               # nitrogen (mmol N/m^3)
  N5:
    long_name: silicate
    model: ogs/bfm_pelagic_base
    parameters:
      composition: s                                       # elemental composition
      s0: 0.0003                                           # background silicon concentration (mmol Si/m^3), default = 0.0
    initialization:
      s: 4.5                                               # silicate (mmol Si/m^3)
  P1:
    long_name: diatoms
    model: ogs/Phyto
    parameters:
      p_sum: 2.5                                           # maximum specific productivity at reference temperature (1/d)
      p_qnlc: 0.00687                                         # minimum nitrogen to carbon ratio (mmol N/mg C)
      p_qplc: 0.0004288                                         # minimum phosphorus to carbon ratio (mmol P/mg C)
      p_qpcPPY: 0.000786                   #[mmolP/mgC]    Reference quotum P:C
      p_qncPPY: 0.0126                     #[mmolN/mgC]    Reference quotum N:C
      p_switchSi: 1                        # [1-2]          Switch for Silica limitation
                                          #  1. Si limitation is controlled by external Si conc.
                                          #  2. Si limitation is controlled by internal quota
      p_chPS: 0.3                                              # Michaelis-Menten constant for silicate limitation (mmol/m^3)
      p_Contois: 0.0                          # [>=0]          If >0, use Contois formulation
      p_qslc: 0.007                                          # maximum silicate to carbon ratio (mmol Si/mg C)
      use_Si: true                                         # use silicate, default = false
      p_qscPPY: 0.01                              #[mmolSi/mgC]    Reference quotum Si:C
    initialization:
      c: 8.0                                               # carbon (mg C/m^3)
      n: 0.1114                                            # nitrogen (mmol N/m^3)
      p: 0.009                                             # phosphorus (mmol P/m^3)
      s: 0.128                                             # silicate (mmol Si/m^3)
      Chl: 0.4                                             # chlorophyll a (mg/m^3)
    coupling:
      N1p: N1/p                                            # phosphate (mmol P/m^3)
      N3n: N3/n                                            # nitrate (mmol N/m^3)
      N4n: N4/n                                            # ammonium (mmol N/m^3)
      N5s: N5/s                                            # silicate (mmol Si/m^3)
